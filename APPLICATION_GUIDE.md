# ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки - ркХркорлНрккрлНрк▓рлАркЯ ркЧрк╛ркИркб

## ЁЯУЛ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркУрк╡рк░рк╡рлНркпрлБ

ркЖ ркПрккрлНрк▓рк┐ркХрлЗрк╢ркиркорк╛ркВ ркмрлЗ ркорлБркЦрлНркп ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ ркЫрлЗ:
1. **ркХркерк╛ рк╕рлЗрк▓рлНрк╕** (ркорлБркЦрлНркп ркПрккрлНрк▓рк┐ркХрлЗрк╢рки)
2. **рк╕рлНркХрлВрк▓ ркорлЗркирлЗркЬркорлЗркирлНркЯ** (ркмрлАркЬрлА ркПрккрлНрк▓рк┐ркХрлЗрк╢рки)

---

## ЁЯПЧя╕П ркПрккрлНрк▓рк┐ркХрлЗрк╢рки рк╕рлНркЯрлНрк░ркХрлНркЪрк░

```
katha 123/
тФЬтФАтФА backend/                 # ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркмрлЗркХркПркирлНркб
тФЬтФАтФА frontend/               # ркХркерк╛ рк╕рлЗрк▓рлНрк╕ рклрлНрк░ркирлНркЯркПркирлНркб
тФЬтФАтФА school/                 # рк╕рлНркХрлВрк▓ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки
тФЬтФАтФА database/               # ркорлБркЦрлНркп ркбрлЗркЯрк╛ркмрлЗркЭ
тФЬтФАтФА config/                 # ркХркирлНрклрк┐ркЧрк░рлЗрк╢рки рклрк╛ркИрк▓рлНрк╕
тФЬтФАтФА logs/                   # рк▓рлЛркЧ рклрк╛ркИрк▓рлНрк╕
тФФтФАтФА docs/                   # ркбрлЛркХрлНркпрлБркорлЗркирлНркЯрлЗрк╢рки
```

---

## ЁЯМР рккрлЛрк░рлНркЯ ркХркирлНрклрк┐ркЧрк░рлЗрк╢рки

### ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки
- **ркмрлЗркХркПркирлНркб:** `http://localhost:4000` (API Server)
- **рклрлНрк░ркирлНркЯркПркирлНркб:** `http://localhost:5173` (React App)

### рк╕рлНркХрлВрк▓ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки
- **ркмрлЗркХркПркирлНркб:** `http://localhost:4001` (API Server)
- **рклрлНрк░ркирлНркЯркПркирлНркб:** `http://localhost:5180` (React App)

---

## ЁЯЪА рк▓рлЛркХрк▓ ркбрлЗрк╡рк▓рккркорлЗркирлНркЯ рк╕рлЗркЯркЕркк

### рккрлНрк░ркерко рк╡ркЦркд рк╕рлЗркЯркЕркк

#### 1. ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки

**ркмрлЗркХркПркирлНркб рк╕рлЗркЯркЕркк:**
```bash
cd backend
npm install
node index.cjs
```

**рклрлНрк░ркирлНркЯркПркирлНркб рк╕рлЗркЯркЕркк:**
```bash
cd frontend
npm install
npm run dev
```

#### 2. рк╕рлНркХрлВрк▓ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки

**ркмрлЗркХркПркирлНркб рк╕рлЗркЯркЕркк:**
```bash
cd school/backend
npm install
node index.cjs
```

**рклрлНрк░ркирлНркЯркПркирлНркб рк╕рлЗркЯркЕркк:**
```bash
cd school/frontend
npm install
npm run dev
```

### ркПркХ рк╕рк╛ркерлЗ ркмркзрлА ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ ркЪрк▓рк╛рк╡рк╡рк╛ ркорк╛ркЯрлЗ

**ЁЯЪА рк╕рлНркорк╛рк░рлНркЯ рк╕рлНркЯрк╛рк░рлНркЯ рк╕рлНркХрлНрк░рк┐рккрлНркЯ (ркнрк▓рк╛ркоркг):**
```powershell
.\smart-start.ps1
```

**ркЖ рк╕рлНркХрлНрк░рк┐рккрлНркЯ ркЖ ркХрк╛рко ркХрк░рлЗ ркЫрлЗ:**
1. тЬЕ ркмркзрк╛ ports (4000, 4001, 4005, 5173, 5180, 3000-3004) kill ркХрк░рлЗ ркЫрлЗ
2. тЬЕ PM2 processes stop ркХрк░рлЗ ркЫрлЗ
3. тЬЕ Dependencies ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ ркЕркирлЗ install ркХрк░рлЗ ркЫрлЗ
4. тЬЕ ркмркзрлА applications ркПркХ рк╕рк╛ркерлЗ start ркХрк░рлЗ ркЫрлЗ
5. тЬЕ Status ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ ркЕркирлЗ browser ркорк╛ркВ ркЦрлЛрк▓рлЗ ркЫрлЗ
6. тЬЕ Detailed error reporting ркЖрккрлЗ ркЫрлЗ

**ркЕркерк╡рк╛ ркорлЗркирлНркпрлБркЕрк▓рлА:**
```bash
# Terminal 1 - ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркмрлЗркХркПркирлНркб
cd backend && npm start

# Terminal 2 - ркХркерк╛ рк╕рлЗрк▓рлНрк╕ рклрлНрк░ркирлНркЯркПркирлНркб
cd frontend && npm run dev

# Terminal 3 - рк╕рлНркХрлВрк▓ ркмрлЗркХркПркирлНркб
cd school/backend && npm start

# Terminal 4 - рк╕рлНркХрлВрк▓ рклрлНрк░ркирлНркЯркПркирлНркб
cd school/frontend && npm run dev
```

---

## ЁЯМН рк╕рк░рлНрк╡рк░ ркбрлЗрккрлНрк▓рлЛркпркорлЗркирлНркЯ

### рк╕рк░рлНрк╡рк░ рк░рк┐ркХрлНрк╡рк╛ркпрк░ркорлЗркирлНркЯрлНрк╕

- **OS:** Ubuntu 20.04+ / CentOS 7+
- **Node.js:** v16+ 
- **NPM:** v8+
- **Nginx:** v1.18+
- **PM2:** v5+
- **Git:** v2.20+

### рк╕рк░рлНрк╡рк░ рк╕рлЗркЯркЕркк рк╕рлНркЯрлЗрккрлНрк╕

#### 1. рк╕рк░рлНрк╡рк░ рккрк░ рк╕рлЛрклрлНркЯрк╡рлЗрк░ ркЗркирлНрк╕рлНркЯрлЛрк▓ ркХрк░рк╡рлБркВ

```bash
# Node.js ркЗркирлНрк╕рлНркЯрлЛрк▓
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Nginx ркЗркирлНрк╕рлНркЯрлЛрк▓
sudo apt update
sudo apt install nginx

# PM2 ркЗркирлНрк╕рлНркЯрлЛрк▓
sudo npm install -g pm2

# Git ркЗркирлНрк╕рлНркЯрлЛрк▓
sudo apt install git
```

#### 2. ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркбрк╛ркЙркирк▓рлЛркб ркХрк░рк╡рлА

```bash
# ркбрк┐рк░рлЗркХрлНркЯрк░рлА ркмркирк╛рк╡рк╡рлА
sudo mkdir -p /var/www/katha-app
cd /var/www/katha-app

# GitHub ркерлА ркХрлЛркб ркбрк╛ркЙркирк▓рлЛркб
sudo git clone https://github.com/your-username/katha-app.git .

# рккрк░ркорк┐рк╢ркирлНрк╕ рк╕рлЗркЯ ркХрк░рлЗ ркЫрлЗ
sudo chown -R $USER:$USER /var/www/katha-app
sudo chmod -R 755 /var/www/katha-app
```

#### 3. ркбрк┐рккрлЗркирлНркбркирлНрк╕рлА ркЗркирлНрк╕рлНркЯрлЛрк▓ ркХрк░рк╡рлА

```bash
# ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки
cd /var/www/katha-app/backend
npm install --production

cd /var/www/katha-app/frontend
npm install --production
npm run build

# рк╕рлНркХрлВрк▓ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки
cd /var/www/katha-app/school/backend
npm install --production

cd /var/www/katha-app/school/frontend
npm install --production
npm run build
```

#### 4. PM2 рк╕рк╛ркерлЗ ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ ркЪрк▓рк╛рк╡рк╡рлА

```bash
cd /var/www/katha-app

# PM2 ecosystem рклрк╛ркИрк▓ рк╕рк╛ркерлЗ ркмркзрлА ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ ркЪрк▓рк╛рк╡рк╡рлА
pm2 start ecosystem.config.cjs

# PM2 startup рк╕рлЗркЯ ркХрк░рлЗ ркЫрлЗ
pm2 startup
pm2 save
```

#### 5. Nginx ркХркирлНрклрк┐ркЧрк░рлЗрк╢рки

**ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркорк╛ркЯрлЗ:**
```bash
sudo cp nginx-katha.conf /etc/nginx/sites-available/katha-sales
sudo ln -s /etc/nginx/sites-available/katha-sales /etc/nginx/sites-enabled/
```

**рк╕рлНркХрлВрк▓ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркорк╛ркЯрлЗ:**
```bash
sudo cp config/nginx-school.conf /etc/nginx/sites-available/school-app
sudo ln -s /etc/nginx/sites-available/school-app /etc/nginx/sites-enabled/
```

**Nginx restart:**
```bash
sudo nginx -t
sudo systemctl restart nginx
```

#### 6. SSL рк╕рк░рлНркЯрк┐рклрк┐ркХрлЗрк╢рки (Let's Encrypt)

```bash
# Certbot ркЗркирлНрк╕рлНркЯрлЛрк▓
sudo apt install certbot python3-certbot-nginx

# SSL рк╕рк░рлНркЯрк┐рклрк┐ркХрлЗрк╢рки ркЬркирк░рлЗркЯ
sudo certbot --nginx -d kathasales.com -d www.kathasales.com
sudo certbot --nginx -d school.kathasales.com

# Auto-renewal рк╕рлЗркЯ ркХрк░рлЗ ркЫрлЗ
sudo crontab -e
# Add: 0 12 * * * /usr/bin/certbot renew --quiet
```

---

## ЁЯФз ркорлЗркЗркирлНркЯрлЗркиркирлНрк╕ ркЕркирлЗ ркорлЛркирк┐ркЯрк░рк┐ркВркЧ

### PM2 ркорлЛркирк┐ркЯрк░рк┐ркВркЧ

```bash
# ркПрккрлНрк▓рк┐ркХрлЗрк╢рки рк╕рлНркЯрлЗркЯрк╕ ркЬрлЛрк╡рлБркВ
pm2 status

# рк▓рлЛркЧрлНрк╕ ркЬрлЛрк╡рк╛
pm2 logs

# ркПрккрлНрк▓рк┐ркХрлЗрк╢рки restart ркХрк░рлЗ ркЫрлЗ
pm2 restart all

# ркПрккрлНрк▓рк┐ркХрлЗрк╢рки stop ркХрк░рлЗ ркЫрлЗ
pm2 stop all
```

### рк▓рлЛркЧ рклрк╛ркИрк▓рлНрк╕

- **ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркмрлЗркХркПркирлНркб:** `logs/err.log`, `logs/out.log`
- **рк╕рлНркХрлВрк▓ ркмрлЗркХркПркирлНркб:** `school/logs/err.log`, `school/logs/out.log`
- **Nginx:** `/var/log/nginx/access.log`, `/var/log/nginx/error.log`

### ркмрлЗркХркЕркк

```bash
# ркбрлЗркЯрк╛ркмрлЗркЭ ркмрлЗркХркЕркк
cp database/katha_sales.db backup/katha_sales_$(date +%Y%m%d_%H%M%S).db

# ркХрлЛркб ркмрлЗркХркЕркк
tar -czf backup/code_$(date +%Y%m%d_%H%M%S).tar.gz .
```

---

## ЁЯЫая╕П ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркорлЗркирлЗркЬрк░

### ркПркХ ркЬ file ркорк╛ркВ ркмркзрк╛ functions
```powershell
.\katha-app-manager.ps1
```

**ркЖ ркПркХ ркЬ script ркорк╛ркВ ркЖ ркмркзрк╛ options ркЫрлЗ:**

#### ЁЯУЛ ркорлЗркирлБ options:
1. **ЁЯЪА ркмркзрлА ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ рк╕рлНркЯрк╛рк░рлНркЯ ркХрк░рлЛ** - ркмркзрк╛ ports kill ркХрк░рлАркирлЗ ркПркХ рк╕рк╛ркерлЗ ркмркзрлА applications start ркХрк░рлЗ ркЫрлЗ
2. **ЁЯЫС ркмркзрлА ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ ркмркВркз ркХрк░рлЛ** - ркмркзрлА applications ркЕркирлЗ ports ркмркВркз ркХрк░рлЗ ркЫрлЗ
3. **ЁЯФН рккрлЛрк░рлНркЯрлНрк╕ рк╕рлНркЯрлЗркЯрк╕ ркЪрлЗркХ ркХрк░рлЛ** - ркмркзрк╛ ports ркирлА status ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ
4. **ЁЯФД ркПрккрлНрк▓рк┐ркХрлЗрк╢ркирлНрк╕ рк░рк┐рк╕рлНркЯрк╛рк░рлНркЯ ркХрк░рлЛ** - ркмркзрлА applications restart ркХрк░рлЗ ркЫрлЗ
5. **ЁЯМР ркмрлНрк░рк╛ркЙркЭрк░ркорк╛ркВ ркЦрлЛрк▓рлЛ** - Applications browser ркорк╛ркВ ркЦрлЛрк▓рлЗ ркЫрлЗ
6. **ЁЯУК рк╕рк┐рк╕рлНркЯрко рк╕рлНркЯрлЗркЯрк╕ ркЬрлБркУ** - Node.js, NPM, PM2 versions ркЕркирлЗ directory status ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ

#### тЬи рклрлАркЪрк░рлНрк╕:
- тЬЕ **ркУркЯрлЛркорлЗркЯрк┐ркХ рккрлЛрк░рлНркЯ ркХрк┐рк▓рк┐ркВркЧ** - ркмркзрк╛ conflicting ports kill ркХрк░рлЗ ркЫрлЗ
- тЬЕ **PM2 рк╕рккрлЛрк░рлНркЯ** - PM2 processes рккркг handle ркХрк░рлЗ ркЫрлЗ
- тЬЕ **ркбрк┐рккрлЗркирлНркбркирлНрк╕рлА ркЪрлЗркХ** - Missing dependencies install ркХрк░рлЗ ркЫрлЗ
- тЬЕ **рк╕рлНркЯрлЗркЯрк╕ рк░рк┐рккрлЛрк░рлНркЯрк┐ркВркЧ** - Detailed status ркЖрккрлЗ ркЫрлЗ
- тЬЕ **ркмрлНрк░рк╛ркЙркЭрк░ ркУрккрки** - Applications automatically browser ркорк╛ркВ ркЦрлЛрк▓рлЗ ркЫрлЗ
- тЬЕ **ркПрк░рк░ рк╣рлЗркирлНркбрк▓рк┐ркВркЧ** - Detailed error messages ркЖрккрлЗ ркЫрлЗ
- тЬЕ **ркорлЗркирлБ рк╕рк┐рк╕рлНркЯрко** - Easy navigation рк╕рк╛ркерлЗ
- тЬЕ **рк╕рк┐рк╕рлНркЯрко ркбрк╛ркпркЧрлНркирлЛрк╕рлНркЯрк┐ркХрлНрк╕** - Node.js, NPM, PM2 versions ркЪрлЗркХ ркХрк░рлЗ ркЫрлЗ

---

## ЁЯРЫ ркЯрлНрк░ркмрк▓рк╢рлВркЯрк┐ркВркЧ

### рк╕рк╛ркорк╛ркирлНркп рк╕ркорк╕рлНркпрк╛ркУ

#### 1. рккрлЛрк░рлНркЯ рккрк░ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркЪрк╛рк▓ркдрлА ркиркерлА
```bash
# рккрлЛрк░рлНркЯ ркЪрлЗркХ ркХрк░рк╡рлЛ
netstat -tulpn | grep :4000
netstat -tulpn | grep :5173

# рккрлНрк░рлЛрк╕рлЗрк╕ kill ркХрк░рк╡рлЛ
sudo kill -9 <PID>
```

#### 2. PM2 ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркЪрк╛рк▓ркдрлА ркиркерлА
```bash
# PM2 рк▓рлЛркЧрлНрк╕ ркЬрлЛрк╡рк╛
pm2 logs

# ркПрккрлНрк▓рк┐ркХрлЗрк╢рки restart
pm2 restart katha-sales-backend
pm2 restart school-backend
```

#### 3. Nginx error
```bash
# Nginx config ркЯрлЗрк╕рлНркЯ
sudo nginx -t

# Nginx restart
sudo systemctl restart nginx
```

#### 4. ркбрлЗркЯрк╛ркмрлЗркЭ ркХркирлЗркХрлНрк╢рки error
```bash
# ркбрлЗркЯрк╛ркмрлЗркЭ рклрк╛ркИрк▓ permissions ркЪрлЗркХ
ls -la database/katha_sales.db

# ркбрлЗркЯрк╛ркмрлЗркЭ repair
sqlite3 database/katha_sales.db "VACUUM;"
```

---

## ЁЯУЮ рк╕рккрлЛрк░рлНркЯ ркЕркирлЗ ркХрлЛркирлНркЯрлЗркХрлНркЯ

- **ркбрлЗрк╡рк▓рккрк░:** [ркдркорк╛рк░рлБркВ ркирк╛рко]
- **ркЗркорлЗркЗрк▓:** [ркдркорк╛рк░рлБркВ ркЗркорлЗркЗрк▓]
- **рклрлЛрки:** [ркдркорк╛рк░рлЛ рклрлЛрки ркиркВркмрк░]

---

## ЁЯУЭ ркЪрлЗркирлНркЬ рк▓рлЛркЧ

### Version 1.0.0
- ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркЗркорлНрккрлНрк▓рк┐ркорлЗркирлНркЯрлЗрк╢рки
- рк╕рлНркХрлВрк▓ ркорлЗркирлЗркЬркорлЗркирлНркЯ ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркЗркорлНрккрлНрк▓рк┐ркорлЗркирлНркЯрлЗрк╢рки
- PM2 ркЕркирлЗ Nginx рк╕рлЗркЯркЕркк
- SSL рк╕рк░рлНркЯрк┐рклрк┐ркХрлЗрк╢рки

---

**ркирлЛркВркз:** ркЖ ркЧрк╛ркИркб рк╕ркдркд ркЕрккркбрлЗркЯ ркеркдрлА рк░рк╣рлЗрк╢рлЗ. ркХрлЛркИрккркг рклрлЗрк░рклрк╛рк░ ркХрк░ркдрк╛ рккрк╣рлЗрк▓рк╛ ркмрлЗркХркЕркк рк▓рлЗрк╡рк╛ркирлБркВ ркнрлВрк▓рк╢рлЛ ркирк╣рлАркВ. 

---

## ЁЯЧДя╕П ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐рк╕рлНркЯрко

### ркбрлЗркЯрк╛ркмрлЗркЭ рклрк╛ркИрк▓рлНрк╕:
- **katha_sales.db** - ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркорлБркЦрлНркп ркбрлЗркЯрк╛ркмрлЗркЭ (business ркбрлЗркЯрк╛)
- **kathasales_live_backup.db** - рк▓рк╛ркЗрк╡ ркмрлЗркХркЕркк ркбрлЗркЯрк╛ркмрлЗркЭ
- **school_salary.db** - рк╕рлНркХрлВрк▓ рк╕рлЗрк▓рк░рлА ркбрлЗркЯрк╛ркмрлЗркЭ

### ркбрлЗркЯрк╛ркмрлЗркЭ рк▓рлЛркХрлЗрк╢ркирлНрк╕:
- **рк▓рлЛркХрк▓:** `database/` рклрлЛрк▓рлНркбрк░ркорк╛ркВ
- **рк╕рк░рлНрк╡рк░:** `/var/www/katha-app/database/` рккрк░

### ркбрлЗркЯрк╛ркмрлЗркЭ ркорлЗркирлЗркЬрк░ рк╕рлНркХрлНрк░рк┐рккрлНркЯрлНрк╕

#### ЁЯУК ркбрлЗркЯрк╛ркмрлЗркЭ ркорлЗркирлЗркЬрк░ (GUI)
```powershell
.\database-manager.ps1
```

**ркЖ script ркорк╛ркВ ркЖ options ркЫрлЗ:**
1. **ЁЯУК ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рлНркЯрлЗркЯрк╕ ркЬрлБркУ** - ркмркзрк╛ databases ркирлА status ркЪрлЗркХ ркХрк░рлЛ
2. **ЁЯТ╛ рк▓рлЛркХрк▓ ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ** - рк▓рлЛркХрк▓ ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ
3. **ЁЯУд рк╕рк░рлНрк╡рк░ ркерлА ркбрлЗркЯрк╛ ркбрк╛ркЙркирк▓рлЛркб ркХрк░рлЛ** - рк╕рк░рлНрк╡рк░ ркерлА ркбрлЗркЯрк╛ ркбрк╛ркЙркирк▓рлЛркб ркХрк░рлЛ
4. **ЁЯУе рк▓рлЛркХрк▓ ркерлА рк╕рк░рлНрк╡рк░ рккрк░ ркЕрккрк▓рлЛркб ркХрк░рлЛ** - рк▓рлЛркХрк▓ ркерлА рк╕рк░рлНрк╡рк░ рккрк░ ркЕрккрк▓рлЛркб ркХрк░рлЛ
5. **ЁЯФД ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐ркВркХрлНрк░ркирк╛ркИркЭ ркХрк░рлЛ** - ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐ркВркХ ркХрк░рлЛ
6. **ЁЯз╣ ркбрлЗркЯрк╛ркмрлЗркЭ ркХрлНрк▓рлАрки ркХрк░рлЛ** - ркбрлЗркЯрк╛ркмрлЗркЭ ркХрлНрк▓рлАрки ркХрк░рлЛ
7. **ЁЯФз ркбрлЗркЯрк╛ркмрлЗркЭ рк░рк┐рккрлЗрк░ ркХрк░рлЛ** - ркбрлЗркЯрк╛ркмрлЗркЭ рк░рк┐рккрлЗрк░ ркХрк░рлЛ
8. **ЁЯУЛ ркмрлЗркХркЕркк рк▓рк┐рк╕рлНркЯ ркЬрлБркУ** - ркмрлЗркХркЕркк рк▓рк┐рк╕рлНркЯ ркЬрлБркУ

#### ЁЯФД ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐ркВркХрлНрк░ркирк╛ркИркЭрлЗрк╢рки
```powershell
# рк▓рлЛркХрк▓ ркерлА рк╕рк░рлНрк╡рк░ рк╕рк┐ркВркХ
.\database-sync.ps1 sync local

# рк╕рк░рлНрк╡рк░ ркерлА рк▓рлЛркХрк▓ рк╕рк┐ркВркХ
.\database-sync.ps1 sync server

# ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ
.\database-sync.ps1 backup

# ркбрлЗркЯрк╛ркмрлЗркЭ ркХркорлНрккрлЗрк░ ркХрк░рлЛ
.\database-sync.ps1 compare
```

### ркбрлЗркЯрк╛ркмрлЗркЭ ркХркирлНрклрк┐ркЧрк░рлЗрк╢рки

**`database-config.json`** рклрк╛ркИрк▓ркорк╛ркВ ркмркзрлА settings ркЫрлЗ:

```json
{
  "databases": {
    "katha_sales": {
      "name": "ркХркерк╛ рк╕рлЗрк▓рлНрк╕ ркорлБркЦрлНркп ркбрлЗркЯрк╛ркмрлЗркЭ",
      "local_path": "database/katha_sales.db",
      "server_path": "/var/www/katha-app/database/katha_sales.db"
    }
  },
  "server": {
    "host": "kathasales.com",
    "user": "root"
  },
  "backup": {
    "auto_backup": true,
    "backup_interval_hours": 24,
    "max_backups": 30
  }
}
```

### ркбрлЗркЯрк╛ркмрлЗркЭ ркорлЗркЗркирлНркЯрлЗркиркирлНрк╕

#### ЁЯФз рк╕рк╛ркорк╛ркирлНркп ркорлЗркЗркирлНркЯрлЗркиркирлНрк╕
```bash
# ркбрлЗркЯрк╛ркмрлЗркЭ рк╡рлЗркХрлНркпрлБрко (space cleanup)
sqlite3 database/katha_sales.db "VACUUM;"

# ркбрлЗркЯрк╛ркмрлЗркЭ рк░рк┐ркЗркирлНркбрлЗркХрлНрк╕
sqlite3 database/katha_sales.db "REINDEX;"

# ркбрлЗркЯрк╛ркмрлЗркЭ ркЗркирлНркЯрлЗркЧрлНрк░рк┐ркЯрлА ркЪрлЗркХ
sqlite3 database/katha_sales.db "PRAGMA integrity_check;"
```

#### ЁЯУЛ ркмрлЗркХркЕркк рк╕рлНркЯрлНрк░рлЗркЯрлЗркЬрлА
1. **ркжрлИркирк┐ркХ ркмрлЗркХркЕркк** - ркжрк░рлЗркХ ркжрк┐рк╡рк╕рлЗ ркУркЯрлЛркорлЗркЯрк┐ркХ ркмрлЗркХркЕркк
2. **ркорлЗркирлНркпрлБркЕрк▓ ркмрлЗркХркЕркк** - ркорк╣ркдрлНрк╡рккрлВрк░рлНркг рклрлЗрк░рклрк╛рк░ рккрк╣рлЗрк▓рк╛
3. **рк╕рк░рлНрк╡рк░ ркмрлЗркХркЕркк** - рк╕рк░рлНрк╡рк░ рккрк░ ркбрлЗркЯрк╛ рк╕рк┐ркВркХ ркХрк░ркдрк╛ рккрк╣рлЗрк▓рк╛
4. **ркбрк┐рк╕рк╛рк╕рлНркЯрк░ рк░рк┐ркХрк╡рк░рлА** - 30 ркжрк┐рк╡рк╕ркирлЛ ркмрлЗркХркЕркк рк╣рк┐рк╕рлНркЯрлНрк░рлА

### ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐ркВркХрлНрк░ркирк╛ркИркЭрлЗрк╢рки рк╡рк░рлНркХрклрлНрк▓рлЛ

#### ЁЯЪА ркбрлЗрк╡рк▓рккркорлЗркирлНркЯ рк╡рк░рлНркХрклрлНрк▓рлЛ
1. **рк▓рлЛркХрк▓ ркбрлЗрк╡рк▓рккркорлЗркирлНркЯ** - рк▓рлЛркХрк▓ рккрк░ ркбрлЗркЯрк╛ рклрлЗрк░рклрк╛рк░ ркХрк░рлЛ
2. **ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ** - рклрлЗрк░рклрк╛рк░ рккрк╣рлЗрк▓рк╛ ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ
3. **рк╕рк░рлНрк╡рк░ рк╕рк┐ркВркХ** - рк▓рлЛркХрк▓ ркерлА рк╕рк░рлНрк╡рк░ рккрк░ ркЕрккрк▓рлЛркб ркХрк░рлЛ
4. **ркЯрлЗрк╕рлНркЯрк┐ркВркЧ** - рк╕рк░рлНрк╡рк░ рккрк░ ркЯрлЗрк╕рлНркЯ ркХрк░рлЛ

#### ЁЯФД рккрлНрк░рлЛркбркХрлНрк╢рки рк╡рк░рлНркХрклрлНрк▓рлЛ
1. **рк╕рк░рлНрк╡рк░ ркмрлЗркХркЕркк** - рк╕рк░рлНрк╡рк░ рккрк░ ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ
2. **рк▓рлЛркХрк▓ рк╕рк┐ркВркХ** - рк╕рк░рлНрк╡рк░ ркерлА рк▓рлЛркХрк▓ рккрк░ ркбрк╛ркЙркирк▓рлЛркб ркХрк░рлЛ
3. **ркбрлЗрк╡рк▓рккркорлЗркирлНркЯ** - рк▓рлЛркХрк▓ рккрк░ рклрлЗрк░рклрк╛рк░ ркХрк░рлЛ
4. **ркбрк┐рккрлНрк▓рлЛркп** - рк▓рлЛркХрк▓ ркерлА рк╕рк░рлНрк╡рк░ рккрк░ ркЕрккрк▓рлЛркб ркХрк░рлЛ

### ркбрлЗркЯрк╛ркмрлЗркЭ рк╕рк┐ркХрлНркпрлЛрк░рк┐ркЯрлА

#### ЁЯФР рк╕рк┐ркХрлНркпрлЛрк░рк┐ркЯрлА ркорлЗркЭрк░рлНрк╕
- **ркмрлЗркХркЕркк ркПркирлНркХрлНрк░рк┐рккрлНрк╢рки** - рк╕ркВрк╡рлЗркжркирк╢рлАрк▓ ркбрлЗркЯрк╛ ркорк╛ркЯрлЗ
- **ркПркХрлНрк╕рлЗрк╕ ркХркирлНркЯрлНрк░рлЛрк▓** - рклрк╛ркИрк▓ permissions рк╕рлЗркЯ ркХрк░рлЛ
- **ркУркбрк┐ркЯ ркЯрлНрк░рлЗркЗрк▓** - ркбрлЗркЯрк╛ рклрлЗрк░рклрк╛рк░ркирлЛ ркЗркдрк┐рк╣рк╛рк╕
- **ркбрк┐рк╕рк╛рк╕рлНркЯрк░ рк░рк┐ркХрк╡рк░рлА** - ркмрлЗркХркЕркк рклрлНрк░рлЛрко ркорк▓рлНркЯрк┐рккрк▓ рк╕рлЛрк░рлНрк╕

#### ЁЯУЛ ркмрлЗрк╕рлНркЯ рккрлНрк░рлЗркХрлНркЯрк┐рк╕
1. **ркирк┐ркпркорк┐ркд ркмрлЗркХркЕркк** - ркжрлИркирк┐ркХ ркмрлЗркХркЕркк ркмркирк╛рк╡рлЛ
2. **ркЯрлЗрк╕рлНркЯрк┐ркВркЧ** - рклрлЗрк░рклрк╛рк░ рккрк╣рлЗрк▓рк╛ ркЯрлЗрк╕рлНркЯ ркХрк░рлЛ
3. **ркбрлЛркХрлНркпрлБркорлЗркирлНркЯрлЗрк╢рки** - ркбрлЗркЯрк╛ рк╕рлНркЯрлНрк░ркХрлНркЪрк░ ркбрлЛркХрлНркпрлБркорлЗркирлНркЯ ркХрк░рлЛ
4. **рк╡рк░рлНркЭрки ркХркирлНркЯрлНрк░рлЛрк▓** - ркбрлЗркЯрк╛ркмрлЗркЭ ркЪрлЗркирлНркЬрлЗрк╕ ркЯрлНрк░рлЗркХ ркХрк░рлЛ

---

## ЁЯЫая╕П ркПрккрлНрк▓рк┐ркХрлЗрк╢рки ркорлЗркирлЗркЬрк░ 